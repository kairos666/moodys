/*! Built with http://stenciljs.com */
const{h:t}=window.waf;import{a as e}from"./chunk-d4fed76e.js";class a{constructor(){this.uniqueId=window.crypto?e():Date.now(),this.observerConfig={childList:!0},this.model=[]}render(){return[(()=>t("nav",{class:"waf-tabs__nav"},t("ol",{role:"tablist"},this.model.map((e,a)=>t("li",Object.assign({},this.spreadAttributesTab(e),{role:"tab",tabindex:"0",onClick:()=>{this.onTabSelected(a)},onKeyDown:t=>{this.onTabSelected(a,t)}}))))))(),t("div",{class:"waf-tabs__tabpanel-container"},t("slot",null))]}componentDidLoad(){Array.prototype.findIndex||console.warn("need Array.findIndex() polyfill"),Array.from||console.warn("need Array.from() polyfill"),this.slottedElt=this.wafTabsElt.querySelector(".waf-tabs__tabpanel-container"),this.slotHTMLLiveHTMLCollection=this.slottedElt.children,this.slotMutationObserver=new MutationObserver(this.mutationsHandler.bind(this)),this.slotMutationObserver.observe(this.slottedElt,this.observerConfig),this.mutationsHandler()}componentDidUnload(){this.slotMutationObserver.disconnect()}idGenerator(t,e){return`${t}-${this.uniqueId}-${e}`}spreadAttributesTab(t){return{id:t.tabID,"aria-controls":t.tabPaneID,"aria-selected":t.isSelected,innerHTML:t.tabContent}}spreadAttributesTabPane(t){return{id:t.tabPaneID,"aria-labelledby":t.tabID,"aria-hidden":String(!t.isSelected),selected:String(t.isSelected)}}onTabSelected(t,e){const a=function(t,e){const a=t[e+"ElementSibling"];return!!a&&(a.focus(),!0)};if(e)switch(e.which){case 13:break;case 37:if(!a(e.target,"previous"))return;const s=t-1;t=Math.max(s,0);break;case 39:if(!a(e.target,"next"))return;const r=t+1,i=this.model.length-1;t=Math.min(r,i);break;default:return}const s=this.model.findIndex(t=>t.isSelected);t!==s&&(this.model=this.model.map((e,a)=>(e.isSelected=t===a,e)),Array.from(this.slotHTMLLiveHTMLCollection).forEach((e,a)=>{e.setAttribute("aria-hidden",a===t?"false":"true"),e.setAttribute("selected",(a===t).toString())}))}mutationsHandler(){const t=[];Array.from(this.slotHTMLLiveHTMLCollection).forEach((e,a)=>{if("WAF-TAB"!==e.nodeName)return void console.warn('waf-tabs | this tag should only contain "waf-tab" tags',e.nodeName);const s=a+1,r=this.cleanEscapedCharacters(e.getAttribute("tab-header")),i=e.getAttribute("selected"),n={tabID:this.idGenerator("tab",s),tabContent:r||"",tabPaneID:this.idGenerator("tabpane",s),isSelected:""===i||"true"===i},o=this.spreadAttributesTabPane(n);Object.keys(o).forEach(t=>{e.setAttribute(t,o[t])}),t.push(n)}),this.model=t}cleanEscapedCharacters(t){return t.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'"')}static get is(){return"waf-tabs"}static get properties(){return{model:{state:!0},wafTabsElt:{elementRef:!0}}}static get style(){return"waf-tabs{display:block;width:100%}waf-tabs waf-tab[aria-hidden=true]{display:none}waf-tabs .waf-tabs__nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-content:space-between;-ms-flex-line-pack:justify;align-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;height:48px;padding:0;margin:0;border-bottom:1px solid #e0e0e0}waf-tabs .waf-tabs__nav ol{padding-left:0;margin-top:0;margin-bottom:0}waf-tabs .waf-tabs__nav li{margin:0;border:none;padding:0 24px 0 24px;float:left;position:relative;display:block;text-decoration:none;height:48px;line-height:48px;text-align:center;font-weight:500;font-size:14px;color:rgba(0,0,0,.54);overflow:hidden;outline:0}waf-tabs .waf-tabs__nav li:focus,waf-tabs .waf-tabs__nav li:hover,waf-tabs .waf-tabs__nav li[aria-selected=true]{color:rgba(0,0,0,.87);cursor:pointer}waf-tabs .waf-tabs__nav li[aria-selected=true]:after{height:2px;width:100%;display:block;content:\" \";bottom:0;left:0;position:absolute;background:#3f51b5;-webkit-animation:border-expand .3s cubic-bezier(.4,0,.4,1) 10ms alternate forwards;animation:border-expand .3s cubic-bezier(.4,0,.4,1) 10ms alternate forwards;-webkit-transition:all 1s cubic-bezier(.4,0,1,1);transition:all 1s cubic-bezier(.4,0,1,1)}\@-webkit-keyframes border-expand{0%{opacity:0;width:0}100%{opacity:1;width:100%}}\@keyframes border-expand{0%{opacity:0;width:0}100%{opacity:1;width:100%}}"}}export{a as WafTabs};
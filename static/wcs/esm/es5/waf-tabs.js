/*! Built with http://stenciljs.com */
import{h}from"./waf.core.js";import{a as vuid}from"./chunk-d4fed76e.js";var WafTabs=function(){function e(){this.uniqueId=window.crypto?vuid():Date.now(),this.observerConfig={childList:!0},this.model=[]}return e.prototype.render=function(){var e=this;return[h("nav",{class:"waf-tabs__nav"},h("ol",{role:"tablist"},e.model.map(function(t,n){return h("li",Object.assign({},e.spreadAttributesTab(t),{role:"tab",tabindex:"0",onClick:function(){e.onTabSelected(n)},onKeyDown:function(t){e.onTabSelected(n,t)}}))}))),h("div",{class:"waf-tabs__tabpanel-container"},h("slot",null))]},e.prototype.componentDidLoad=function(){Array.prototype.findIndex||console.warn("need Array.findIndex() polyfill"),Array.from||console.warn("need Array.from() polyfill"),this.slottedElt=this.wafTabsElt.querySelector(".waf-tabs__tabpanel-container"),this.slotHTMLLiveHTMLCollection=this.slottedElt.children,this.slotMutationObserver=new MutationObserver(this.mutationsHandler.bind(this)),this.slotMutationObserver.observe(this.slottedElt,this.observerConfig),this.mutationsHandler()},e.prototype.componentDidUnload=function(){this.slotMutationObserver.disconnect()},e.prototype.idGenerator=function(e,t){return e+"-"+this.uniqueId+"-"+t},e.prototype.spreadAttributesTab=function(e){return{id:e.tabID,"aria-controls":e.tabPaneID,"aria-selected":e.isSelected,innerHTML:e.tabContent}},e.prototype.spreadAttributesTabPane=function(e){return{id:e.tabPaneID,"aria-labelledby":e.tabID,"aria-hidden":String(!e.isSelected),selected:String(e.isSelected)}},e.prototype.onTabSelected=function(e,t){var n=function(e,t){var n=e[t+"ElementSibling"];return!!n&&(n.focus(),!0)};if(t)switch(t.which){case 13:break;case 37:if(!n(t.target,"previous"))return;var r=e-1;e=Math.max(r,0);break;case 39:if(!n(t.target,"next"))return;var a=e+1,o=this.model.length-1;e=Math.min(a,o);break;default:return}var i=this.model.findIndex(function(e){return e.isSelected});e!==i&&(this.model=this.model.map(function(t,n){return t.isSelected=e===n,t}),Array.from(this.slotHTMLLiveHTMLCollection).forEach(function(t,n){t.setAttribute("aria-hidden",n===e?"false":"true"),t.setAttribute("selected",(n===e).toString())}))},e.prototype.mutationsHandler=function(){var e=this,t=[];Array.from(this.slotHTMLLiveHTMLCollection).forEach(function(n,r){if("WAF-TAB"===n.nodeName){var a=r+1,o=e.cleanEscapedCharacters(n.getAttribute("tab-header")),i=n.getAttribute("selected"),s={tabID:e.idGenerator("tab",a),tabContent:o||"",tabPaneID:e.idGenerator("tabpane",a),isSelected:""===i||"true"===i},l=e.spreadAttributesTabPane(s);Object.keys(l).forEach(function(e){n.setAttribute(e,l[e])}),t.push(s)}else console.warn('waf-tabs | this tag should only contain "waf-tab" tags',n.nodeName)}),this.model=t},e.prototype.cleanEscapedCharacters=function(e){return e.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'"')},Object.defineProperty(e,"is",{get:function(){return"waf-tabs"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{model:{state:!0},wafTabsElt:{elementRef:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"waf-tabs{display:block;width:100%}waf-tabs waf-tab[aria-hidden=true]{display:none}waf-tabs .waf-tabs__nav{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-ms-flex-line-pack:justify;align-content:space-between;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;height:48px;padding:0;margin:0;border-bottom:1px solid #e0e0e0}waf-tabs .waf-tabs__nav ol{padding-left:0;margin-top:0;margin-bottom:0}waf-tabs .waf-tabs__nav li{margin:0;border:none;padding:0 24px;float:left;position:relative;display:block;text-decoration:none;height:48px;line-height:48px;text-align:center;font-weight:500;font-size:14px;color:rgba(0,0,0,.54);overflow:hidden;outline:0}waf-tabs .waf-tabs__nav li:focus,waf-tabs .waf-tabs__nav li:hover,waf-tabs .waf-tabs__nav li[aria-selected=true]{color:rgba(0,0,0,.87);cursor:pointer}waf-tabs .waf-tabs__nav li[aria-selected=true]:after{height:2px;width:100%;display:block;content:\" \";bottom:0;left:0;position:absolute;background:#3f51b5;-webkit-animation:.3s cubic-bezier(.4,0,.4,1) 10ms alternate forwards border-expand;animation:.3s cubic-bezier(.4,0,.4,1) 10ms alternate forwards border-expand;-webkit-transition:all 1s cubic-bezier(.4,0,1,1);transition:all 1s cubic-bezier(.4,0,1,1)}\@-webkit-keyframes border-expand{0%{opacity:0;width:0}100%{opacity:1;width:100%}}\@keyframes border-expand{0%{opacity:0;width:0}100%{opacity:1;width:100%}}"},enumerable:!0,configurable:!0}),e}();export{WafTabs};